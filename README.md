# TestVeom

## Описание
#### Проект выполнен на UE 5.4.4.

В системе есть три главных cущности:
- склад,
- погрузчик,
- менеджер.

![image](https://github.com/user-attachments/assets/e0a4c922-56f0-44ab-a79b-2e6697aac018)

Основная логика этих классов выполнена в С++.

## Управление

- **WASD** - движение камеры.

- **Колёсико мыши** - приближение/отдаление камеры.

- **ESC** - выйти из игры.

- **Клик по складу** открывает UI склада.

- **Наведение курсором на погрузчик** показывает UI погрузчика.

## UI
### Главное меню

![UI_MainScreen](https://github.com/user-attachments/assets/872344a1-6647-45af-bfdb-50cf03536c6f)

#### 1. Изменение скорости передвижения погрузчиков: уменьшить скорость, нормальная скорость, увеличить скорость

#### 2. Кнопки управления картами: переместиться на другую карту, рестарт текущей карты
В игре существуют две карты:

  - 1000 складов и погрузчиков,
  - 10 складов и погрузчиков.

Переключение происходит между этими двумя картами. При переключении уровень перезапускается заново.

#### 3. Кнопки функционала игры: создать стресс-тест, добавить погрузчик, добавить склад на карту (рядом выбирается лимит склада для создания)
Стресс-тест создаёт блок из 50 складов, по одному для каждого типа ресурса, максимально заполненных ресурсами с лимитом 500 ресурсов. Они сразу активируются, как участвующие в системе при создании стресс-теста.

Добавление на карту нового склада или погрузчика происходит по алгоритму:

1) Выбрать лимит создавемого склада (если добавляется склад),
2) Нажать на кнопку "добавить",
3) Кликнуть на поверхности в желаемом месте.

После этого на месте клика появится объект. Если создаётся склад, он создаётся пустым и выключенным из системы.

### Меню склада

Меню склада появляется в правой части экрана при клике по мешу склада.

![image](https://github.com/user-attachments/assets/9282a2c1-ef04-4346-b409-c5ad726bcd6f)

Оно состоит из двух панелей: основное меню и список задач.

#### 1. Список задач.

Здесь отражается, кто и зачем из погрузчиков едет к складу и сколько ресурса он забронировал, сколько существует относящихся к складу задач, а также может отображаться статус "есть задачи с этим складом, но нет свободных погрузчиков". Эта панель может скрываться и показываться по кнопке "hide/show jobs" из основного меню.

#### Основное меню.
#### 2. Значения переменных склада.
- Тип ресурса
- Количество находящегося на складе ресурса
- Лимит склада
- Процент заполненности склада

Сероватые значения показаны как справочные, игрок не может влиять на них напрямую из игры.

#### 3. Кнопка "закрыть меню".

#### 4. Кнопка "вкл/выкл склад из системы".

При выключении склада из системы, ресурс из склада будет разобран на соседние склады с тем же типом ресурса. Если количество выкладываемого ресурса больше, чем оставшиеся склады могут вместить, высветится предпреждение "невозможно отключить склад". Также, кнопка переключения состояния склада в системе недоступна, пока склад задействован в задаче и ещё не был посещен.

#### 5. Кнопки управления ресурсами.

Сменить тип ресурса возможно только пока склад отключен от системы.

Добавить и убрать ресурсы можно, когда склад не является целью задачи.

Прежде чем кнопки станут доступными также необходимо сначала ввести значение: для типа - отличающийся от предыдущего тип ресурса, для количества ресурсов - отличное от нуля количество.

#### Также в меню показано имя склада.

### Панель погрузчика

Маленькая панель снизу экрана открывается при наведении на конкретный погрузчик и показывает его текущую задачу, если она есть. В ней указана его текущая цель, тип и количество ресурса которым он собирается оперировать, а также склады, которые задействованы в задаче.

![image](https://github.com/user-attachments/assets/63034ece-b17c-4a0f-803d-51f2f877600e)

## FPS

Графики снимались через UE Insight.

#### График FPS на основной карте с 1000 складов и погрузчиков. Каждый стресс-тест активировался, когда задач в ожидании не было и большинство погрузчиков были свободны.

![image](https://github.com/user-attachments/assets/29f6189f-18d9-41ff-8182-7bce9ac4d5fe)

Для сравнения, график того же процесса, но с отключенной отрисовкой мешей, а также наложение графиков.

![image](https://github.com/user-attachments/assets/5edb6e6c-2735-4640-81fe-f937ae9f56da)
![image](https://github.com/user-attachments/assets/9307e8e4-2750-4917-8d6d-2441ae56ec65)

#### График FPS на основной карте, каждый стресс-тест включается с некоторым промежутком, независимо от количества ожидающих задач и загруженности роботов.

![image](https://github.com/user-attachments/assets/b203f742-ccea-43ba-ae1d-7808b411bcb3)

### Характеристики устройства:

ОС: Windows 10

Процессор: Intel Core i7

Оперативная память: 16 Гб

Видеокарта: NVidia GeForce RTX 3070 Ti Laptop, 8 Гб.


